get:
  operationId: GetCustomersMe
  summary: Get Logged-in Customer
  x-sidebar-summary: Get Customer
  description: >-
    Retrieve the logged-in customer. You can expand the customer's relations or
    select the fields that should be returned.
  x-authenticated: true
  externalDocs:
    url: >-
      https://docs.medusajs.com/v2/resources/storefront-development/customers/retrieve
    description: 'Storefront guide: How to retrieve the logged-in customer.'
  parameters:
    - name: x-publishable-api-key
      in: header
      description: Publishable API Key created in the Medusa Admin.
      required: true
      schema:
        type: string
        externalDocs:
          url: https://docs.medusajs.com/api/store#publishable-api-key
    - name: fields
      in: query
      description: >-
        Comma-separated fields that should be included in the returned data. if
        a field is prefixed with `+` it will be added to the default fields,
        using `-` will remove it from the default fields. without prefix it will
        replace the entire default fields. This API route restricts the fields
        that can be selected. Learn how to override the retrievable fields in
        the [Retrieve Custom
        Links](https://docs.medusajs.com/learn/fundamentals/api-routes/retrieve-custom-links)
        documentation.
      required: false
      schema:
        type: string
        title: fields
        description: >-
          Comma-separated fields that should be included in the returned data.
          if a field is prefixed with `+` it will be added to the default
          fields, using `-` will remove it from the default fields. without
          prefix it will replace the entire default fields. This API route
          restricts the fields that can be selected. Learn how to override the
          retrievable fields in the [Retrieve Custom
          Links](https://docs.medusajs.com/learn/fundamentals/api-routes/retrieve-custom-links)
          documentation.
        externalDocs:
          url: '#select-fields-and-relations'
  security:
    - cookie_auth: []
    - jwt_token: []
  x-codeSamples:
    - lang: JavaScript
      label: JS SDK
      source:
        $ref: ../code_samples/JavaScript/store_customers_me/get.js
    - lang: Shell
      label: cURL
      source:
        $ref: ../code_samples/Shell/store_customers_me/get.sh
  tags:
    - Customers
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            $ref: ../components/schemas/StoreCustomerResponse.yaml
    '400':
      $ref: ../components/responses/400_error.yaml
    '401':
      $ref: ../components/responses/unauthorized.yaml
    '404':
      $ref: ../components/responses/not_found_error.yaml
    '409':
      $ref: ../components/responses/invalid_state_error.yaml
    '422':
      $ref: ../components/responses/invalid_request_error.yaml
    '500':
      $ref: ../components/responses/500_error.yaml
post:
  operationId: PostCustomersMe
  summary: Update Customer
  description: Update the logged-in customer's details.
  externalDocs:
    url: >-
      https://docs.medusajs.com/v2/resources/storefront-development/customers/profile
    description: 'Storefront guide: How to edit a customer''s profile.'
  x-authenticated: true
  parameters:
    - name: x-publishable-api-key
      in: header
      description: Publishable API Key created in the Medusa Admin.
      required: true
      schema:
        type: string
        externalDocs:
          url: https://docs.medusajs.com/api/store#publishable-api-key
    - name: fields
      in: query
      description: >-
        Comma-separated fields that should be included in the returned data. if
        a field is prefixed with `+` it will be added to the default fields,
        using `-` will remove it from the default fields. without prefix it will
        replace the entire default fields.
      required: false
      schema:
        type: string
        title: fields
        description: >-
          Comma-separated fields that should be included in the returned data.
          if a field is prefixed with `+` it will be added to the default
          fields, using `-` will remove it from the default fields. without
          prefix it will replace the entire default fields. This API route
          restricts the fields that can be selected. Learn how to override the
          retrievable fields in the [Retrieve Custom
          Links](https://docs.medusajs.com/learn/fundamentals/api-routes/retrieve-custom-links)
          documentation.
        externalDocs:
          url: '#select-fields-and-relations'
  security:
    - cookie_auth: []
    - jwt_token: []
  requestBody:
    content:
      application/json:
        schema:
          $ref: ../components/schemas/StoreUpdateCustomer.yaml
  x-codeSamples:
    - lang: JavaScript
      label: JS SDK
      source:
        $ref: ../code_samples/JavaScript/store_customers_me/post.js
    - lang: Shell
      label: cURL
      source:
        $ref: ../code_samples/Shell/store_customers_me/post.sh
  tags:
    - Customers
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            $ref: ../components/schemas/StoreCustomerResponse.yaml
    '400':
      $ref: ../components/responses/400_error.yaml
    '401':
      $ref: ../components/responses/unauthorized.yaml
    '404':
      $ref: ../components/responses/not_found_error.yaml
    '409':
      $ref: ../components/responses/invalid_state_error.yaml
    '422':
      $ref: ../components/responses/invalid_request_error.yaml
    '500':
      $ref: ../components/responses/500_error.yaml
  x-workflow: updateCustomersWorkflow
  x-events:
    - name: customer.updated
      payload: |-
        ```ts
        [{
          id, // The ID of the customer
        }]
        ```
      description: Emitted when a customer is updated.
      deprecated: false
